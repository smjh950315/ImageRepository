@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@using ImgRepo.Model.ViewModel
@model BasicDetails

<div class="container" style="padding-bottom: 3rem!important;">

    <div>
        <div id="image-id" style="display:none">@Model.Id</div>
        <h1>@Model.Name</h1>

        <img id="img-view" class="img-fluid" src="" alt="Image" />

        <div class="img-repo-attr-group">
            <span class="img-repo-attr-label">標籤</span>
            <a onclick="ImgRepoHelperInstance.Add(this)">新增</a>
            <a class="img-repo-cancel-btn" style="display:none;" onclick="ImgRepoHelperInstance.Hide(this)">取消</a>
            <div class="img-repo-item-container" id="img-tag-container">
            </div>
            <input class="img-repo-input" style="display:none;" type="text" />            
        </div>
        <div class="img-repo-attr-group">
            <span class="img-repo-attr-label">分類</span>
            <button class="btn">新增</button>
            <div class="img-repo-item-container" id="img-cat-container">
            </div>
            <input class="img-repo-input" style="display:none;" type="text" />            
        </div>
        <div class="img-repo-attr-group">
            <span class="img-repo-attr-label">作者</span>
            <input class="img-repo-item-container" type="text" id="author-name" style="display:none;" />
        </div>
        <div class="img-repo-attr-group">
            <div class="img-repo-attr-label">描述</div>
            <div class="img-repo-item-container" id="img-description">@Model.Description</div>
        </div>        
    </div>

</div>

<script>
    $(document).ready(function () {
        let baseUrl = "@Url.Action("", "")";
        let imageId = Number($("#image-id").text());
        ImgRepoHelperInstance = new ImgRepoHelper(baseUrl, imageId);
        ImgRepoHelperInstance.LoadImage();
        ImgRepoHelperInstance.LoadTags();
        ImgRepoHelperInstance.LoadCats();
    });
</script>
